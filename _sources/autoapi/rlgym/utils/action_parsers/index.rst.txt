:py:mod:`rlgym.utils.action_parsers`
====================================

.. py:module:: rlgym.utils.action_parsers


Submodules
----------
.. toctree::
   :titlesonly:
   :maxdepth: 1

   action_parser/index.rst
   continuous_act/index.rst
   default_act/index.rst
   discrete_act/index.rst


Package Contents
----------------

Classes
~~~~~~~

.. autoapisummary::

   rlgym.utils.action_parsers.ActionParser
   rlgym.utils.action_parsers.ContinuousAction
   rlgym.utils.action_parsers.DiscreteAction
   rlgym.utils.action_parsers.DefaultAction




.. py:class:: ActionParser

   Bases: :py:obj:`abc.ABC`

   Helper class that provides a standard way to create an ABC using
   inheritance.

   .. py:method:: get_action_space() -> gym.spaces.Space
      :abstractmethod:

      Function that returns the action space type. It will be called during the initialization of the environment.

      :return: The type of the action space


   .. py:method:: parse_actions(actions: Any, state: rlgym.utils.gamestates.GameState) -> numpy.ndarray
      :abstractmethod:

      Function that parses actions from the action space into a format that rlgym understands.
      The expected return value is a numpy float array of size (n, 8) where n is the number of agents.
      The second dimension is indexed as follows: throttle, steer, yaw, pitch, roll, jump, boost, handbrake.
      The first five values are expected to be in the range [-1, 1], while the last three values should be either 0 or 1.

      :param actions: An object of actions, as passed to the `env.step` function.
      :param state: The GameState object of the current state that were used to generate the actions.

      :return: the parsed actions in the rlgym format.



.. py:class:: ContinuousAction

   Bases: :py:obj:`rlgym.utils.action_parsers.ActionParser`

   Simple continuous action space. Operates in the range -1 to 1, even for the binary actions which are converted back to binary later.
   This is for improved compatibility, stable baselines doesn't support tuple spaces right now.

   .. py:method:: get_action_space() -> gym.spaces.Space

      Function that returns the action space type. It will be called during the initialization of the environment.

      :return: The type of the action space


   .. py:method:: parse_actions(actions: numpy.ndarray, state: rlgym.utils.gamestates.GameState) -> numpy.ndarray

      Function that parses actions from the action space into a format that rlgym understands.
      The expected return value is a numpy float array of size (n, 8) where n is the number of agents.
      The second dimension is indexed as follows: throttle, steer, yaw, pitch, roll, jump, boost, handbrake.
      The first five values are expected to be in the range [-1, 1], while the last three values should be either 0 or 1.

      :param actions: An object of actions, as passed to the `env.step` function.
      :param state: The GameState object of the current state that were used to generate the actions.

      :return: the parsed actions in the rlgym format.



.. py:class:: DiscreteAction(n_bins=3)

   Bases: :py:obj:`rlgym.utils.action_parsers.ActionParser`

   Simple discrete action space. All the analog actions have 3 bins by default: -1, 0 and 1.

   .. py:method:: get_action_space() -> gym.spaces.Space

      Function that returns the action space type. It will be called during the initialization of the environment.

      :return: The type of the action space


   .. py:method:: parse_actions(actions: numpy.ndarray, state: rlgym.utils.gamestates.GameState) -> numpy.ndarray

      Function that parses actions from the action space into a format that rlgym understands.
      The expected return value is a numpy float array of size (n, 8) where n is the number of agents.
      The second dimension is indexed as follows: throttle, steer, yaw, pitch, roll, jump, boost, handbrake.
      The first five values are expected to be in the range [-1, 1], while the last three values should be either 0 or 1.

      :param actions: An object of actions, as passed to the `env.step` function.
      :param state: The GameState object of the current state that were used to generate the actions.

      :return: the parsed actions in the rlgym format.



.. py:class:: DefaultAction

   Bases: :py:obj:`rlgym.utils.action_parsers.ContinuousAction`

   Continuous Action space, that also accepts a few other input formats for QoL reasons and to remain
   compatible with older versions.

   .. py:method:: get_action_space() -> gym.spaces.Space

      Function that returns the action space type. It will be called during the initialization of the environment.

      :return: The type of the action space


   .. py:method:: parse_actions(actions: Union[numpy.ndarray, List[numpy.ndarray], List[float]], state: rlgym.utils.gamestates.GameState) -> numpy.ndarray

      Function that parses actions from the action space into a format that rlgym understands.
      The expected return value is a numpy float array of size (n, 8) where n is the number of agents.
      The second dimension is indexed as follows: throttle, steer, yaw, pitch, roll, jump, boost, handbrake.
      The first five values are expected to be in the range [-1, 1], while the last three values should be either 0 or 1.

      :param actions: An object of actions, as passed to the `env.step` function.
      :param state: The GameState object of the current state that were used to generate the actions.

      :return: the parsed actions in the rlgym format.



